function handleSelectBox(){[{value:"選択してください"},{value:"カスタマイズのご相談"},{value:"取材のご依頼"},{value:"その他お問い合わせ"}].forEach((e,i)=>{$("#inquiries-overview").append('<option value="'+i+'" id="'+i+'">'+e.value+"</option>")})}function handleFixedHeader(){let e=$(window).scrollTop(),i=$(".header").offset().top;handleSetFixedHeader(e>=i),$(window).on("scroll",function(){$(this).scrollTop()>=i?handleSetFixedHeader(!0):handleSetFixedHeader(!1)})}function handleSetFixedHeader(e){1==e?$(".header").addClass("header--fixed"):$(".header").removeClass("header--fixed")}function handleNavigationItem(e){const i=[{sectionName:"js-top"},{sectionName:"js-point"},{sectionName:"js-customized"},{sectionName:"js-customized-flow"},{sectionName:"js-contactus"},{sectionName:"js-operating-company"}];"PC"===e?($(".navigation__link").on("click",function(){let e=$(this).parent().data("index"),t=$("#"+i[e].sectionName).offset().top-60;$("html, body").animate({scrollTop:t},1e3)}),handleToActivateNavigation(i),$(window).on("scroll",function(){handleToActivateNavigation(i)})):$(".modal__navigation-item").on("click",function(){$(this).parents(".modal").fadeOut(500),$(".footer__menu-icon").removeClass("footer__menu-icon--active"),handlePreventPageScrollingModal(0);let e=$(this).data("index"),t=+$("#"+i[e].sectionName).offset().top;$("html, body").animate({scrollTop:t},1e3)})}function handleClickButtonInBanner(){let e=$("#js-customized").offset().top-60;$(".button--banner").on("click",function(){$("html, body").animate({scrollTop:e},1e3)})}function handleClickButtonInCustomizationExample(e){let i;i="PC"===e?$("#js-contactus").offset().top-60:$("#js-contactus").offset().top,$(".button--white").on("click",function(){$("html, body").animate({scrollTop:i},1e3)})}function handleToActivateNavigation(e){const i=$(this).scrollTop();let t;e.forEach(function(e,n){let a=$("#"+e.sectionName).offset().top-60;i>=a&&(t=n)}),$(".navigation__link").removeClass("navigation__link--active"),$('.navigation__item[data-index="'+t+'"]').find(".navigation__link").addClass("navigation__link--active")}function handleScrollToTop(){$(".footer__scroll-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)})}function handleShowNavigationModal(){$(".footer__menu-icon").on("click",function(){1==$(this).hasClass("footer__menu-icon--active")?($(".modal").fadeOut(500),$(this).removeClass("footer__menu-icon--active"),$(".modal__navigation").hide(),handlePreventPageScrollingModal(0)):($(".modal").fadeIn(500),handlePreventPageScrollingModal(1),$(this).addClass("footer__menu-icon--active"),$(".modal__navigation").show())})}function handleShowModalCustomizedFlow(e){"mobile"==e&&($(".customized-flow__item").on("click",function(){$(".modal__customized-content").html(""),$(".modal__customized-content").append($(this).find(".customized-flow__item-description").text()),$(".modal").fadeIn(500).css("z-index","2"),$(".modal__navigation").hide(),$(".modal__customized-flow").show(),handlePreventPageScrollingModal(1)}),$(".button--modal").on("click",function(){$(".modal__customized-content").html(""),$(".modal").fadeOut(500).css("z-index","initial"),$(".modal__customized-flow").hide(),handlePreventPageScrollingModal(0)}))}function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br>")}function handleFormValidation(){const e=[{companyName:{required:"Company name is required",minMaxLength:"Minimum of 1, Maximum of 100 characters only",halfWidthKana:"Half width kana is not allowed"},departmentName:{maxLength:"Maximum of 100 characters only",halfWidthKana:"Half width kana is not allowed"},personInCharge:{required:"Person in charge is required",minMaxLength:"Maximum of 100 characters only",halfWidthKana:"Half width kana is not allowed"},mailAddress:{required:"Email Address is required",emailValidation:"Email address format is invalid",halfWidthKana:"Half width kana is not allowed"},summaryTitle:{required:"Summary title is required"},content:{required:"Content is required",minMaxLength:"Minimum of 2 and maximum of 2000 characters only",halfWidthKana:"Half width kana is not allowed"}}];let i=!1,t=!1,n=!1,a=!1,o=!1,s=!1;$(".button.button--submit").attr("disabled","disabled"),$("#companyName").on("keyup",function(t){let n="",a=/[\uFF00-\uFFEF]/g;$(this).val().length>1?a.test($(this).val())?(n=e[0].companyName.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),i=!1):$(this).val().length>100?(n=e[0].companyName.minMaxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),i=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),n="",i=!0):(n=e[0].companyName.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),i=!1),$(this).next(".inquiries__form-error").text(n)}),$("#departmentName").on("keyup",function(){let i="";/[\uFF00-\uFFEF]/g.test($(this).val())?(i=e[0].departmentName.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),t=!1):$(this).val().length>100?(i=e[0].departmentName.maxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),t=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),i="",t=!0),$(this).next(".inquiries__form-error").text(i)}),$("#personInCharge").on("keyup",function(){let i="",t=/[\uFF00-\uFFEF]/g;$(this).val().length>1?t.test($(this).val())?(i=e[0].personInCharge.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),n=!1):$(this).val().length>100?(i=e[0].personInCharge.minMaxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),n=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),i="",n=!0):(i=e[0].personInCharge.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),n=!1),$(this).next(".inquiries__form-error").text(i)}),$("#mailAddress").on("keyup",function(i){emailAddress=$(this);let t=/^[^.\/@]+[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i,n=/[\uFF00-\uFFEF]/g,o="";$(this).val().length>1?n.test($(this).val())?(o=e[0].mailAddress.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),a=!1):t.test(emailAddress.val())?($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),o="",a=!0):($(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),o=e[0].mailAddress.emailValidation,a=!1):(o=e[0].mailAddress.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),a=!1),$(this).next(".inquiries__form-error").text(o)}),$("#inquiries-overview").on("change focus",function(){let i="";0==+$(this).val()?($(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),i=e[0].summaryTitle.required,o=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),i="",o=!0),$(this).next(".inquiries__form-error").text(i)}),$("#contents").on("keyup",function(){let i="",t=/[\uFF00-\uFFEF]/g;$(this).val().length>0?t.test($(this).val())?(i=e[0].content.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),s=!1):$(this).val().length>2e3?(i=e[0].content.minMaxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),s=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),i="",s=!0):(i=e[0].content.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),s=!1),$(this).next(".inquiries__form-error").text(i)}),$("input, select, textarea").on("keyup change",function(){!0===i&&!0===t&&!0===n&&!0===a&&!0===o&&!0===s?$(".button.button--submit").removeAttr("disabled"):$(".button.button--submit").attr("disabled","disabled")})}function handleGetFormInputValue(){$(".button--submit").on("click",function(){let e=new Date,i=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),t=window.location.href;handleSendMessage({companyName:htmlEntities($("#companyName").val()),departmentName:htmlEntities($("#departmentName").val()),personInCharge:htmlEntities($("#personInCharge").val()),mailAddress:htmlEntities($("#mailAddress").val()),inquiriesOverview:htmlEntities($('#inquiries-overview option[id="'+$("#inquiries-overview").val()+'"]').text()),contents:htmlEntities($("#contents").val()),dateTime:htmlEntities(i),websiteUrl:htmlEntities(t)})})}function handleSendMessage(e){let i;Email.send("sendonly@y-n-s.co.jp","issue-SMN-bx7EwRrfyy8Z9Wvzu43ANT4Jp@i3.backlog.jp",`${e.companyName}`+" - "+` ${e.inquiriesOverview}`,`${e.departmentName}`+"-"+`${e.personInCharge}`+"<br>"+`${e.mailAddress}`+"<br>"+`${e.contents}`+"<br><br>"+`${e.dateTime}`+"<br>"+`${e.websiteUrl}`,"smtp.gmail.com","third.party.service.yns@gmail.com","ynsadmin1234",function(e){"OK"===e?(i=!0,$("input, textarea").val(""),$("select").val(0),$(".button.button--submit").attr("disabled","disabled")):i=!1,handleSideNotification(i)})}function handleSideNotification(e){!0===e?toastr.success("You've Successfully Send Your Message!"):toastr.error("Failed!"),toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"3000",hideDuration:"1000",timeOut:"1000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}function handleGetyear(){let e=(new Date).getFullYear("YYYY");$("#js-year").text(" "+e)}function handlePreventPageScrollingModal(e){let i,t;0===e?(i=$("body").css("top"),t=-1*parseInt(i,10),$("body").removeClass("body--fixed"),window.scrollTo(0,t)):(i=$(window).scrollTop(),$("body").addClass("body--fixed").css("top","-"+i+"px"))}$(function(){let e="";e=$(window).width()<=767?"mobile":"PC",handleSelectBox(),handleFixedHeader(),handleNavigationItem(e),handleScrollToTop(),handleShowNavigationModal(),handleShowModalCustomizedFlow(e),handleFormValidation(),handleGetFormInputValue(),handleClickButtonInBanner(),handleClickButtonInCustomizationExample(e),handleGetyear()});