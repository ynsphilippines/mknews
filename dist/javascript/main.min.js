function handleSelectBox(){[{value:"選択してください"},{value:"カスタマイズのご相談"},{value:"取材のご依頼"},{value:"その他お問い合わせ"}].forEach((i,e)=>{$("#inquiries-overview").append('<option value="'+e+'" id="'+e+'">'+i.value+"</option>")})}function handleFixedHeader(){let i=$(window).scrollTop(),e=$(".header").offset().top;handleSetFixedHeader(i>=e),$(window).on("scroll",function(){$(this).scrollTop()>=e?handleSetFixedHeader(!0):handleSetFixedHeader(!1)})}function handleSetFixedHeader(i){1==i?$(".header").addClass("header--fixed"):$(".header").removeClass("header--fixed")}function handleNavigationItem(i){const e=[{sectionName:"js-top"},{sectionName:"js-point"},{sectionName:"js-customized"},{sectionName:"js-customized-flow"},{sectionName:"js-contactus"},{sectionName:"js-operating-company"}];"PC"===i?($(".navigation__link").on("click",function(){let i=$(this).parent().data("index"),t=$("#"+e[i].sectionName).offset().top-60;$("html, body").animate({scrollTop:t},1e3)}),handleToActivateNavigation(e),$(window).on("scroll",function(){handleToActivateNavigation(e)})):$(".modal__navigation-item").on("click",function(){$(this).parents(".modal").fadeOut(500),$(".footer__icon-menu--close").hide(),$(".footer__icon-menu").show();let i=$(this).data("index"),t=+$("#"+e[i].sectionName).offset().top;$("html, body").animate({scrollTop:t},1e3)})}function handleClickButtonInBanner(){let i=$("#js-customized").offset().top-60;$(".button--banner").on("click",function(){$("html, body").animate({scrollTop:i},1e3)})}function handleToActivateNavigation(i){const e=$(this).scrollTop();let t;i.forEach(function(i,n){let a=$("#"+i.sectionName).offset().top-60;e>=a&&(t=n)}),$(".navigation__link").removeClass("navigation__link--active"),$('.navigation__item[data-index="'+t+'"]').find(".navigation__link").addClass("navigation__link--active")}function handleScrollToTop(){$(".footer__scroll-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)})}function handleShowNavigationModal(){$(".footer__icon-menu").on("click",function(){$(".modal").fadeIn(500),$(this).hide(),$(".modal__navigation, .footer__icon-menu--close").show()}),$(".footer__icon-menu--close").on("click",function(){$(this).hide(),$(".footer__icon-menu").show(),$(".modal, .modal__navigation").fadeOut(500)})}function handleShowModalCustomizedFlow(i){"mobile"==i&&($(".customized-flow__item").on("click",function(){$(".modal__customized-content").html(""),$(".modal__customized-content").append($(this).find(".customized-flow__item-description").text()),$(".modal").fadeIn(500).css("z-index","2"),$(".modal__navigation").hide(),$(".modal__customized-flow").show()}),$(".button--modal").on("click",function(){$(".modal__customized-content").html(""),$(".modal").fadeOut(500).css("z-index","initial"),$(".modal__customized-flow").hide()}))}function htmlEntities(i){return String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br>")}function handleFormValidation(){const i=[{companyName:{required:"Company name is required",minMaxLength:"Minimum of 1, Maximum of 100 characters only",halfWidthKana:"Half width kana is not allowed"},departmentName:{maxLength:"Maximum of 100 characters only",halfWidthKana:"Half width kana is not allowed"},personInCharge:{required:"Person in charge is required",minMaxLength:"Maximum of 100 characters only",halfWidthKana:"Half width kana is not allowed"},mailAddress:{required:"Email Address is required",emailValidation:"Email address format is invalid",halfWidthKana:"Half width kana is not allowed"},summaryTitle:{required:"Summary title is required"},content:{required:"Content is required",minMaxLength:"Minimum of 2 and maximum of 2000 characters only",halfWidthKana:"Half width kana is not allowed"}}];let e=!1,t=!1,n=!1,a=!1,o=!1,s=!1;$(".button.button--submit").attr("disabled","disabled"),$("#companyName").on("keyup",function(t){let n="",a=/[\uFF00-\uFFEF]/g;0!==$(this).val().length?a.test($(this).val())?(n=i[0].companyName.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),e=!1):$(this).val().length>100?(n=i[0].companyName.minMaxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),e=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),n="",e=!0):(n=i[0].companyName.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),e=!1),$(this).next(".inquiries__form-error").text(n)}),$("#departmentName").on("keyup",function(){let e="";/[\uFF00-\uFFEF]/g.test($(this).val())?(e=i[0].departmentName.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),t=!1):$(this).val().length>100?(e=i[0].departmentName.maxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),t=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),e="",t=!0),$(this).next(".inquiries__form-error").text(e)}),$("#personInCharge").on("keyup",function(){let e="",t=/[\uFF00-\uFFEF]/g;0!==$(this).val().length?t.test($(this).val())?(e=i[0].personInCharge.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),n=!1):$(this).val().length>100?(e=i[0].personInCharge.minMaxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),n=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),e="",n=!0):(e=i[0].personInCharge.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),n=!1),$(this).next(".inquiries__form-error").text(e)}),$("#mailAddress").on("keyup",function(e){emailAddress=$(this);let t=/^[^.\/@]+[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i,n=/[\uFF00-\uFFEF]/g,o="";0!==$(this).val().length?n.test($(this).val())?(o=i[0].mailAddress.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),a=!1):t.test(emailAddress.val())?($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),o="",a=!0):($(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),o=i[0].mailAddress.emailValidation,a=!1):(o=i[0].mailAddress.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),a=!1),$(this).next(".inquiries__form-error").text(o)}),$("#inquiries-overview").on("change focus",function(){let e="";0==+$(this).val()?($(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),e=i[0].summaryTitle.required,o=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),e="",o=!0),$(this).next(".inquiries__form-error").text(e)}),$("#contents").on("keyup",function(){let e="",t=/[\uFF00-\uFFEF]/g;$(this).val().length>0?t.test($(this).val())?(e=i[0].content.halfWidthKana,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),s=!1):$(this).val().length>2e3?(e=i[0].content.minMaxLength,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),s=!1):($(this).parents(".inquiries__form-list").removeClass("inquiries__form-list--error"),e="",s=!0):(e=i[0].content.required,$(this).parents(".inquiries__form-list").addClass("inquiries__form-list--error"),s=!1),$(this).next(".inquiries__form-error").text(e)}),$("input, select, textarea").on("keyup change",function(){!0===e&&!0===t&&!0===n&&!0===a&&!0===o&&!0===s?$(".button.button--submit").removeAttr("disabled"):$(".button.button--submit").attr("disabled","disabled")})}function handleGetFormInputValue(){$(".button--submit").on("click",function(){let i=new Date,e=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes(),t=window.location.href;handleSendMessage({companyName:htmlEntities($("#companyName").val()),departmentName:htmlEntities($("#departmentName").val()),personInCharge:htmlEntities($("#personInCharge").val()),mailAddress:htmlEntities($("#mailAddress").val()),inquiriesOverview:htmlEntities($('#inquiries-overview option[id="'+$("#inquiries-overview").val()+'"]').text()),contents:htmlEntities($("#contents").val()),dateTime:htmlEntities(e),websiteUrl:htmlEntities(t)})})}function handleSendMessage(i){let e;Email.send("sendonly@y-n-s.co.jp","issue-SMN-bx7EwRrfyy8Z9Wvzu43ANT4Jp@i3.backlog.jp",`${i.companyName}`+" - "+` ${i.inquiriesOverview}`,`${i.departmentName}`+"-"+`${i.personInCharge}`+"<br>"+`${i.mailAddress}`+"<br>"+`${i.contents}`+"<br><br>"+`${i.dateTime}`+"<br>"+`${i.websiteUrl}`,"smtp.gmail.com","third.party.service.yns@gmail.com","ynsadmin1234",function(i){"OK"===i?(e=!0,$("input, textarea").val(""),$("select").val(0)):e=!1,handleSideNotification(e)})}function handleSideNotification(i){!0===i?toastr.success("You've Successfully Send Your Message!"):toastr.error("Failed!"),toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"3000",hideDuration:"1000",timeOut:"1000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}$(function(){let i="";i=$(window).width()<=767?"mobile":"PC",handleSelectBox(),handleFixedHeader(),handleNavigationItem(i),handleScrollToTop(),handleShowNavigationModal(),handleShowModalCustomizedFlow(i),handleFormValidation(),handleGetFormInputValue(),handleClickButtonInBanner()});