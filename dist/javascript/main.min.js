function handleSelectBox(){[{value:"選択してください"},{value:"カスタマイズのご相談"},{value:"取材のご依頼"},{value:"その他お問い合わせ"}].forEach((e,t)=>{$("#inquiries-overview").append('<option value="'+t+'" id="'+t+'">'+e.value+"</option>")})}function handleFixedHeader(){let e=$(window).scrollTop(),t=$(".header").offset().top;handleSetFixedHeader(e>=t),$(window).on("scroll",function(){$(this).scrollTop()>=t?handleSetFixedHeader(!0):handleSetFixedHeader(!1)})}function handleSetFixedHeader(e){1==e?$(".header").addClass("header--fixed"):$(".header").removeClass("header--fixed")}function handleNavigationItem(e){const t=[{sectionName:"js-top"},{sectionName:"js-point"},{sectionName:"js-customized"},{sectionName:"js-customized-flow"},{sectionName:"js-contactus"},{sectionName:"js-operating-company"}];"PC"===e?($(".navigation__link").on("click",function(){let e=$(this).parent().data("index"),i=$("#"+t[e].sectionName).offset().top-40;$("html, body").animate({scrollTop:i},1e3)}),handleToActivateNavigation(t),$(window).on("scroll",function(){handleToActivateNavigation(t)})):$(".modal__navigation-item").on("click",function(){$(this).parents(".modal").fadeOut(500),$(".footer__menu-icon").removeClass("footer__menu-icon--active"),$("body").removeClass("body-fixed");let e=$(this).data("index"),i=+$("#"+t[e].sectionName).offset().top;$("html, body").animate({scrollTop:i},1e3)})}function handleClickButtonInBanner(){let e=$("#js-customized").offset().top-40;$(".button--banner").on("click",function(){$("html, body").animate({scrollTop:e},1e3)})}function handleClickButtonInCustomizationExample(e){let t;t="PC"===e?$("#js-contactus").offset().top-40:$("#js-contactus").offset().top,$(".button--white").on("click",function(){$("html, body").animate({scrollTop:t},1e3)})}function handleToActivateNavigation(e){const t=$(this).scrollTop();let i;e.forEach(function(e,s){let o=$("#"+e.sectionName).offset().top-60;t>=o&&(i=s),t>=4e3&&(i=5)}),$(".navigation__link").removeClass("navigation__link--active"),$('.navigation__item[data-index="'+i+'"]').find(".navigation__link").addClass("navigation__link--active")}function handleScrollToTop(){$(".footer__scroll-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)})}function handleShowNavigationModal(){$(".footer__menu-icon").on("click",function(){1==$(this).hasClass("footer__menu-icon--active")?($(".modal").fadeOut(500),$(this).removeClass("footer__menu-icon--active"),$(".modal__navigation").hide(),$("body").removeClass("body-fixed")):($(".modal").fadeIn(500),$("body").addClass("body-fixed"),$(this).addClass("footer__menu-icon--active"),$(".modal__navigation").show())})}function handleShowModalCustomizedFlow(e){"mobile"==e&&($(".customized-flow__item").on("click",function(){$(".modal__customized-content").html(""),$(".modal__customized-content").append($(this).find(".customized-flow__item-description").text()),$(".modal").fadeIn(500).css("z-index","2"),$(".modal__navigation").hide(),$(".modal__customized-flow").show(),$("body").addClass("body-fixed")}),$(".button--modal").on("click",function(){$(".modal__customized-content").html(""),$(".modal").fadeOut(500).css("z-index","initial"),$(".modal__customized-flow").hide(),$("body").removeClass("body-fixed")}))}function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br>")}function handleFormValidation(){let e=!1,t=!1,i=!1,s=!1,o=!1,n=!1;$(".button.button--submit").attr("disabled","disabled"),$("#companyName").on("keyup",function(t){let i=/[\uFF00-\uFFEF]/g;$(this).val().length>0?i.test($(this).val())?(e=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):$(this).val().length>100?(e=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):(e=!0,$(this).parents(".inquiries__form-list").removeClass("js-error inquiries__form-list--error")):(e=!1,$(this).parents(".inquiries__form-list").addClass("js-error"))}),$("#departmentName").on("keyup",function(){/[\uFF00-\uFFEF]/g.test($(this).val())?(t=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):$(this).val().length>100?(t=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):(t=!0,$(this).parents(".inquiries__form-list").removeClass("js-error inquiries__form-list--error"))}),$("#personInCharge").on("keyup",function(){let e=/[\uFF00-\uFFEF]/g;$(this).val().length>0?e.test($(this).val())?(i=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):$(this).val().length>100?(i=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):(i=!0,$(this).parents(".inquiries__form-list").removeClass("js-error inquiries__form-list--error")):(i=!1,$(this).parents(".inquiries__form-list").addClass("js-error"))}),$("#mailAddress").on("keyup",function(e){emailAddress=$(this);let t=/^[^.\/@]+[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i,i=/[\uFF00-\uFFEF]/g;$(this).val().length>0?i.test($(this).val())?(s=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):t.test(emailAddress.val())?(s=!0,$(this).parents(".inquiries__form-list").removeClass("js-error inquiries__form-list--error")):(s=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):(s=!1,$(this).parents(".inquiries__form-list").addClass("js-error"))}),$("#inquiries-overview").on("change focus",function(){0==+$(this).val()?(o=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):(o=!0,$(this).parents(".inquiries__form-list").removeClass("js-error inquiries__form-list--error"))}),$("#contents").on("keyup",function(){let e=/[\uFF00-\uFFEF]/g;$(this).val().length>0?e.test($(this).val())?(n=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):$(this).val().length>2e3?(n=!1,$(this).parents(".inquiries__form-list").addClass("js-error")):(n=!0,$(this).parents(".inquiries__form-list").removeClass("js-error inquiries__form-list--error")):(n=!1,$(this).parents(".inquiries__form-list").addClass("js-error"))});let a=!1;$("input, select, textarea").on("keyup change",function(){let r=!1,l=!1,d=$(".js-required").filter(function(){return""===this.value});a=0!==$("select").val(),r=!d.length,!0===a&&!0===r?($(".button.button--submit").removeAttr("disabled"),l=!0===e&&!0===t&&!0===i&&!0===s&&!0===o&&!0===n):$(".button.button--submit").attr("disabled","disabled"),$("#inquiriesData").val(l)}),handleGetFormInputValue()}function handleGetFormInputValue(){$(".button--submit").on("click",function(){if("true"===$("#inquiriesData").val()){let e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),i=window.location.href;handleSendMessage({companyName:htmlEntities($("#companyName").val()),departmentName:htmlEntities($("#departmentName").val()),personInCharge:htmlEntities($("#personInCharge").val()),mailAddress:htmlEntities($("#mailAddress").val()),inquiriesOverview:htmlEntities($('#inquiries-overview option[id="'+$("#inquiries-overview").val()+'"]').text()),contents:htmlEntities($("#contents").val()),dateTime:htmlEntities(t),websiteUrl:htmlEntities(i)}),$(".inquiries__form-list").removeClass("js-error, inquiries__form-list--error")}else $(".js-error").addClass("inquiries__form-list--error"),toastr.error("適切にご入力ください!")})}function handleSendMessage(e){let t;Email.send("sendonly@y-n-s.co.jp","issue-SMN-bx7EwRrfyy8Z9Wvzu43ANT4Jp@i3.backlog.jp",`${e.companyName}`+" - "+` ${e.inquiriesOverview}`,`${e.departmentName}`+"-"+`${e.personInCharge}`+"<br>"+`${e.mailAddress}`+"<br>"+`${e.contents}`+"<br><br>"+`${e.dateTime}`+"<br>"+`${e.websiteUrl}`,"smtp.elasticemail.com","third.party.service.yns@gmail.com","6d73e66e-e141-48fb-bae1-20c8ea89b3b7",function(e){"OK"===e?(t=!0,$("input, textarea").val(""),$("select").val(0),$(".button.button--submit").attr("disabled","disabled")):t=!1,handleSideNotification(t)})}function handleSideNotification(e){!0===e?(toastr.success("You've Successfully Send Your Message!"),$(".inquiries__form-list").removeClass("js-error inquiries__form-list--error")):toastr.error("Failed!"),toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"3000",hideDuration:"1000",timeOut:"1000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}function handleGetyear(){let e=(new Date).getFullYear("YYYY");$("#js-year").text(" "+e)}$(function(){let e="";e=$(window).width()<=767?"mobile":"PC",handleSelectBox(),handleFixedHeader(),handleNavigationItem(e),handleScrollToTop(),handleShowNavigationModal(),handleShowModalCustomizedFlow(e),handleFormValidation(),handleClickButtonInBanner(),handleClickButtonInCustomizationExample(e),handleGetyear()});